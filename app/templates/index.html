{% extends "base.html" %}

{% block content %}
<div class="main-content">
    <div class="team-selection">
        <div class="buttons-container">
            <a href="{{ url_for('create_team') }}" class="team-button">íŒ€ ìƒì„±</a>
            <button class="delete-button" onclick="openDeleteModal({{ current_team.t_id }})">í˜„ì¬ íŒ€ ì‚­ì œ</button>
        </div>
        
        <h3>íŒ€ ì„ íƒ</h3>
        <div class="team-buttons">
            {% for team in teams %}
            <button class="team-button" onclick="loadTeam({{ team.t_id }})">{{ team.t_name }}</button>
            {% endfor %}
        </div>
    </div>

    <div class="center-content">
        {% if current_team %}
        <div class="logo-container">
            <img src="{{ url_for('static', path=current_team.t_logo) }}" alt="{{ current_team.t_name }} Logo"
                class="logo-image">
        </div>
        <h1>{{ current_team.t_name }}</h1>
        <div class="team-intro">
            <p>{{ current_team.t_intro }}</p>
            <p>{{ current_team.t_descript }}</p>
            <a href="{{ current_team.t_git }}" target="_blank">GitHub LinkğŸ‘†</a>
        </div>
        {% else %}
        <h1>íŒ€ì„ ì„ íƒí•´ì£¼ì„¸ìš”</h1>
        {% endif %}
    </div>
    <div class="user-create-button-container">
        <a href="{{ url_for('create_user_page') }}" class="btn btn-primary">ìœ ì € ìƒì„±</a>
    </div>
</div>

<div class="team-members">
    {% for member in team_members %}
    <div class="member-slot">
        <!-- <h3>{{ member.u_name }}</h3> -->
        <h3>
            <a href="#" onclick="openModal({{ member.u_id }})">{{ member.u_name }}</a>
        </h3>
        <a href="{{ url_for('resume', user_id=member.u_id) }}" target="_blank">
            <img src="{{ url_for('static', path=member.u_image) }}" alt="{{ member.u_name }}">
        </a>
    </div>
    {% endfor %}
</div>

<!-- ì‚¬ìš©ì ì •ë³´ ì¹´ë“œ -->
<div id="userModal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2 id="user-name"></h2>
        <p><strong>Nickname:</strong> <span id="user-nickname"></span></p>
        <p><strong>Email:</strong> <span id="user-email"></span></p>
        <p><strong>GitHub:</strong> <span id="user-git"></span></p>
    </div>
</div>

<!-- íŒ€ ì‚­ì œ í™•ì¸ ëª¨ë‹¬ -->
<div id="deleteModal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close" onclick="closeDeleteModal()">&times;</span>
        <h2 id="modal-team-name" style="color: #e74c3c;"></h2>
        <p>ì‚­ì œëœ íŒ€ì€ ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
        <form id="deleteForm" method="post">
            <button type="submit" class="delete-confirm">ì‚­ì œ í™•ì¸</button>
            <button type="button" class="delete-close" onclick="closeDeleteModal()">ì·¨ì†Œ</button>
        </form>
    </div>
</div>

{% endblock %}